{% extends "dashbase.html" %}

{% block head %}
<head>
    {% load static %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
{% endblock head %}

{% block main %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="mb-0">Blog Posts</h1>
        <a href="{% url 'blog_create' %}" class="btn btn-primary"><i class="bi bi-plus-circle-fill"></i> Create New Blog</a>
    </div>
    <div class="row">
        {% for post in posts %}
        <div class="col-12 col-sm-6 col-md-4 mb-4 mb-md-0">
            <div class="post-entry">
                <a href="{% url 'blog_detail' post.id %}" class="post-thumbnail">
                    <img src="{{ post.image.url }}" alt="Image" class="img-fluid">
                </a>
                <div class="post-content-entry">
                    <h3><a href="{% url 'blog_detail' post.id %}">{{ post.title }}</a></h3>
                    <div class="meta">
                        <span>by <a href="#">{{ post.author }}</a></span> 
                        <span>on <a href="#">{{ post.date_posted }}</a></span>
                    </div>
                    <a href="{% url 'blog_edit' post.id %}" class="btn btn-secondary mt-2"><i class="bi bi-pencil-fill"></i> Edit</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock main %}
